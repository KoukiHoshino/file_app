# ファイル名管理ツール (File App)
ファイル作成時の命名規則を統一し、ヒューマンエラーを回避することを目的としたデスクトップアプリケーションです。

## 目的（ヒューマンエラーの回避）
このツールは、ファイル作成時に発生しがちな以下の問題を解決します。

命名ミスの防止: 必須項目（分類、プロジェクトなど）をフォームで入力させ、一貫したルールでファイル名を生成します。

バージョン管理の自動化: ``v0001``, ``v0002``のようなバージョン番号を、フォルダ内の既存ファイルをスキャンして自動で採番します。

必須情報の担保: 「制作者」が設定されていないとファイルを作成できないようにし、責任者を明確にします。

権限エラーの防止: 書き込み権限のないフォルダへの保存を事前にチェックします。

作業の証跡: いつ、誰が、どんなファイルを作成したかをCSVログに自動で記録します。

## 主な機能
1. 命名規則に基づくファイル生成
設定画面で定義した「ファイル命名規則」（例: ``{date}_{project}_{version}``）に基づき、フォームに入力された値からファイル名を自動生成します。

2. 自動バージョン管理
命名規則に ``{version}`` トークンを含めると、保存先フォルダに同じ命名規則のファイルがいくつあるかをスキャンし、次のバージョン番号（例: ``v0004``）を自動で付与します。

3. マイセット（プリセット）機能
「日報セット」「A案件セット」のように、以下の項目を「マイセット」として保存できます。

保存場所

ファイル命名規則

分類、プロジェクト、ファイル形式などのデフォルト値

よく使う作業をプリセット化することで、入力の手間とミスを削減します。

4. 動的なフォーム制御
命名規則テンプレートで使用されているトークン（例: ``{category}`` や ``{free_text}``）に応じて、メイン画面の入力フォームが自動で表示/非表示されます。

5. カスタムトークン
「分類」や「プロジェクト」以外に、ユーザーが独自の入力項目（例: ``顧客名: {client}``）を自由に追加できます。

6. ファイル作成ログ
ファイルが作成されると、アプリのデータフォルダ内の ``creation_log.csv`` に、以下の情報が自動で追記されます。

   * 作成日時 (Timestamp)
   * 制作者 (Author)
   * 分類 (Category)
   * プロジェクト (Project)
   * ファイル名 (Filename)
   * 保存パス (SavePath)
   * 説明 (Description)

1. コンテンツテンプレート機能
アプリのデータフォルダ内の ``content_templates`` フォルダに、特定のファイル（例: ``[報告書].txt``）を配置しておくと、「分類」で ``[報告書]`` を、「ファイル形式」で ``.txt`` を選んでファイルを作成した際に、そのテンプレートファイルの内容が挿入された状態でファイルが作成されます。

1. 設定のインポート/エクスポート
分類リスト、プロジェクトリスト、マイセット、カスタムトークンなどの全設定を、一つのJSONファイルとして書き出したり、読み込んだりできます。

## 技術スタック
* Electron (v39.1.1)
* Electron Forge (v7.10.2)
* Vanilla JavaScript (ES6+), HTML5, CSS3

## データ保存場所
本アプリの設定ファイル、テンプレート、ログは、``data`` フォルダに保存されます。

開発時: プロジェクトルート直下の ``data/`` フォルダ

パッケージ（インストール）後: アプリのリソースフォルダ内（例: ``resources/data/``）
```
data/
├── categories.json       # 分類リスト
├── projects.json         # プロジェクトリスト
├── extensions.json       # ファイル形式リスト
├── presets.json          # マイセットリスト
├── custom_tokens.json    # カスタムトークンリスト
├── config.json           # 制作者名、デフォルトパスなどの基本設定
├── creation_log.csv      # ★ ファイル作成ログ
└── content_templates/    # ★ コンテンツテンプレート置き場
    ├── [報告書].txt
    └── ...
```
## 開発環境での実行
リポジトリをクローンします。

依存関係をインストールします。

```Bash
npm install
```
アプリを起動します。

```Bash
npm start
```
## ビルドとパッケージ化
パッケージ化 (OSごと)
```Bash
npm run package
```
実行すると``out/``ディレクトリにパッケージが生成されます。

インストーラー作成
```Bash
npm run make
```
実行すると ``out/make`` ディレクトリにインストーラーが生成されます（Windowsなら``.exe``, macOSなら``.zip``など）。

## ライセンス
MIT License  Copyright (c) 2025 Sloth